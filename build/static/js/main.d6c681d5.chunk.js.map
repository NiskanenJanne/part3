{"version":3,"sources":["components/forms.js","components/numbers.js","services/server.js","App.js","index.js"],"names":["Forms","props","onSubmit","addPerson","value","newName","onChange","handleNoteChange","newNumber","handleNumberChange","type","Numbers","persons","map","person","name","number","onClick","remove","id","serverurl","axios","get","newPersonObject","console","log","post","delete","updatedPersonObject","put","App","useState","setPersons","setNewName","setNewnumber","errorMessage","setErrorMessage","useEffect","server","then","response","data","Notification","message","className","event","target","event2","preventDefault","newPerson","count","i","length","window","confirm","filter","setTimeout","concat","promise","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d6c681d5.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Forms = (props) => {\r\n  return(\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name: \r\n        <input value={props.newName}\r\n        onChange={props.handleNoteChange}/>\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input value={props.newNumber}\r\n        onChange={props.handleNumberChange}/>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>)\r\n}\r\n\r\nexport default Forms","import React from \"react\"\r\n\r\nconst Numbers = (props) => {\r\n    return(\r\n        \r\n            <ul>\r\n                {props.persons.map(person =>\r\n                    <li key={person.id}>\r\n                        {person.name}\r\n                        {\" \"}\r\n                        {person.number}\r\n                        {\" \"}\r\n                        <button onClick={() => props.remove(person)}>delete</button>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n       \r\n    )\r\n}\r\n\r\nexport default Numbers","import axios from \"axios\";\r\nvar serverurl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(serverurl)\r\n}\r\n\r\nconst addNewPerson = newPersonObject => {\r\n    console.log(\"toimiiko tämä\")\r\n    return axios.post(serverurl, newPersonObject)\r\n}\r\n\r\nconst removePerson = (id) => {\r\n    return axios.delete(`${serverurl}/${id}`)\r\n}\r\n\r\nconst update = (updatedPersonObject, person) => {\r\n    console.log(updatedPersonObject)\r\n    return axios.put(`${serverurl}/${person.id}`, updatedPersonObject)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    addNewPerson: addNewPerson,\r\n    removePerson: removePerson,\r\n    update: update\r\n}","import React, { useState, useEffect } from 'react'\nimport Forms from './components/forms'\nimport Numbers from './components/numbers'\nimport server from './services/server'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n\n  const [ newName, setNewName ] = useState('')\n\n  const [ newNumber, setNewnumber] = useState('')\n\n  const [errorMessage, setErrorMessage] = useState('')\n\n\n  useEffect(() => {\n    server\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    var count = 0\n    for (var i = 0; i < persons.length; i++){\n      if (newName === persons[i].name){\n        newPerson.id = persons[i].id\n        console.log(persons[i])\n        if(window.confirm(newName + \" is already added to phonebook, update the number?\")){\n          server\n            .update(newPerson, persons[i])\n            .then(persons.filter(person => person.id === persons.id))\n            setErrorMessage(\n              `${newPerson.name}s number was changed`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)  \n            setNewName('')\n            setNewnumber('') \n\n              \n        }\n        else{\n          setNewName('')\n          setNewnumber('') \n        }\n      }\n      else {\n        count++\n        console.log(count)\n      }\n    }\n    console.log(count, persons.length)\n    if (count === persons.length){\n      server\n        .addNewPerson(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setErrorMessage(\n            `${newPerson.name} was added to server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)  \n          setNewnumber('')   \n          setNewName('')   \n      })\n    }\n  }\n\n  const remove = ({name, id}) => {\n    if (window.confirm(`delete ${name}?`)){\n      server\n        .removePerson(id) \n        .then(setPersons(persons.filter(person => person.id !== id))\n        ) \n        setErrorMessage(\n          `${name} was deleted from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)    \n      }\n  }\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\n  const handleNoteChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event2) => {\n    console.log(event2.target.value)\n    setNewnumber(event2.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage}/>\n      <br></br>\n      <Forms newName={newName} \n      handleNoteChange={handleNoteChange} \n      newNumber={newNumber}\n      handleNumberChange={handleNumberChange}\n      addPerson={addPerson}/>\n\n      <h2>Numbers</h2>\n\n      <Numbers persons={persons}\n      remove={remove}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport axios from 'axios'\nimport './index.css'\n\nconst promise = axios.get('http://localhost:3001')\nconsole.log(promise)\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}