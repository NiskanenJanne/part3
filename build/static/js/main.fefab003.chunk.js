(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(2),o=t(16),r=t.n(o),a=t(4),u=t(0),s=function(e){return Object(u.jsxs)("form",{onSubmit:e.addPerson,children:[Object(u.jsxs)("div",{children:["name:",Object(u.jsx)("input",{value:e.newName,onChange:e.handleNoteChange})]}),Object(u.jsxs)("div",{children:["number:",Object(u.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},i=function(e){return Object(u.jsx)("ul",{children:e.persons.map((function(n){return Object(u.jsxs)("li",{children:[n.name," ",n.number," ",Object(u.jsx)("button",{onClick:function(){return e.remove(n)},children:"delete"})]},n.id)}))})},l=t(3),m=t.n(l),b="/api/persons",d=function(){return m.a.get(b)},h=function(e){return console.log("toimiiko t\xe4m\xe4"),m.a.post(b,e)},j=function(e){return m.a.delete("".concat(b,"/").concat(e))},f=function(e,n){return console.log(e),m.a.put("".concat(b,"/").concat(n.id),e)},g=function(){var e=Object(c.useState)([]),n=Object(a.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),l=Object(a.a)(r,2),m=l[0],b=l[1],g=Object(c.useState)(""),O=Object(a.a)(g,2),v=O[0],p=O[1],x=Object(c.useState)(""),w=Object(a.a)(x,2),N=w[0],C=w[1];Object(c.useEffect)((function(){d().then((function(e){o(e.data)}))}),[]);var k=function(e){var n=e.message;return null===n?null:Object(u.jsx)("div",{className:"error",children:n})};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(k,{message:N}),Object(u.jsx)("br",{}),Object(u.jsx)(s,{newName:m,handleNoteChange:function(e){console.log(e.target.value),b(e.target.value)},newNumber:v,handleNumberChange:function(e){console.log(e.target.value),p(e.target.value)},addPerson:function(e){e.preventDefault();var n={name:m,number:v},c=0;0===n.name.length?C("Name is missing."):n.name.length<3?C("".concat(n.name,"s name is shorter than minimum 3 characters.")):0===n.number.length?C("Number is missing."):n.number.length<8&&C("Number ".concat(n.number," is shorter than minimum 8 characters."));for(var r=0;r<t.length;r++)m===t[r].name?(n.id=t[r].id,console.log(t[r]),window.confirm(m+" is already added to phonebook, update the number?")?(f(n,t[r]).then(t.filter((function(e){return e.number!==t[r].number}))),C("".concat(n.name,"s number was changed")),setTimeout((function(){C(null)}),5e3),b(""),p("")):(b(""),p(""))):(c++,console.log(c));console.log(c,t.length),c===t.length&&h(n).then((function(e){o(t.concat(e.data)),C("".concat(n.name," was added to server")),setTimeout((function(){C(null)}),5e3),p(""),b("")}))}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(i,{persons:t,remove:function(e){var n=e.name,c=e.id;window.confirm("delete ".concat(n,"?"))&&(j(c).then(o(t.filter((function(e){return e.id!==c})))),C("".concat(n," was deleted from server")),setTimeout((function(){C(null)}),5e3))}})]})},O=(t(40),m.a.get("http://localhost:3001"));console.log(O),r.a.render(Object(u.jsx)(g,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.fefab003.chunk.js.map