(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var o=t(2),c=t(16),r=t.n(c),a=t(4),u=t(0),i=function(e){return Object(u.jsxs)("form",{onSubmit:e.addPerson,children:[Object(u.jsxs)("div",{children:["name:",Object(u.jsx)("input",{value:e.newName,onChange:e.handleNoteChange})]}),Object(u.jsxs)("div",{children:["number:",Object(u.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},l=function(e){return Object(u.jsx)("ul",{children:e.persons.map((function(n){return Object(u.jsxs)("li",{children:[n.name," ",n.number," ",Object(u.jsx)("button",{onClick:function(){return e.remove(n)},children:"delete"})]},n.id)}))})},s=t(3),d=t.n(s),b="/api/persons",j=function(){return d.a.get(b)},h=function(e){return console.log("toimiiko t\xe4m\xe4"),d.a.post(b,e)},m=function(e){return d.a.delete("".concat(b,"/").concat(e))},f=function(e,n){return console.log(e),d.a.put("".concat(b,"/").concat(n.id),e)},O=function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(""),s=Object(a.a)(r,2),d=s[0],b=s[1],O=Object(o.useState)(""),g=Object(a.a)(O,2),v=g[0],p=g[1],x=Object(o.useState)(""),w=Object(a.a)(x,2),N=w[0],C=w[1];Object(o.useEffect)((function(){j().then((function(e){c(e.data)}))}),[]);var k=function(e){var n=e.message;return null===n?null:Object(u.jsx)("div",{className:"error",children:n})};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(k,{message:N}),Object(u.jsx)("br",{}),Object(u.jsx)(i,{newName:d,handleNoteChange:function(e){console.log(e.target.value),b(e.target.value)},newNumber:v,handleNumberChange:function(e){console.log(e.target.value),p(e.target.value)},addPerson:function(e){e.preventDefault();for(var n={name:d,number:v},o=0,r=0;r<t.length;r++)d===t[r].name?(n.id=t[r].id,console.log(t[r]),window.confirm(d+" is already added to phonebook, update the number?")?(f(n,t[r]).then(t.filter((function(e){return e.number!==t[r].number}))),C("".concat(n.name,"s number was changed")),setTimeout((function(){C(null)}),5e3),b(""),p("")):(b(""),p(""))):(o++,console.log(o));console.log(o,t.length),o===t.length&&h(n).then((function(e){c(t.concat(e.data)),C("".concat(n.name," was added to server")),setTimeout((function(){C(null)}),5e3),p(""),b("")}))}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(l,{persons:t,remove:function(e){var n=e.name,o=e.id;window.confirm("delete ".concat(n,"?"))&&(m(o).then(c(t.filter((function(e){return e.id!==o})))),C("".concat(n," was deleted from server")),setTimeout((function(){C(null)}),5e3))}})]})},g=(t(40),d.a.get("http://localhost:3001"));console.log(g),r.a.render(Object(u.jsx)(O,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.7266e473.chunk.js.map